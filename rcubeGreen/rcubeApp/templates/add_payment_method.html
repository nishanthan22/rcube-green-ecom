{% extends 'rcube-green-ecom/base2.html' %}
{% load static %}

{% block title %}
Add Payment Method
{% endblock %}

{% block content %}
<style>
  .add-payment-method-page .container {
    max-width: 800px;
    margin: auto;
    padding: 20px;
  }
  .add-payment-method-page h3.title {
    margin-bottom: 20px;
  }
  .add-payment-method-page .form-row {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
  }
  .add-payment-method-page .form-column {
    flex: 1;
    min-width: 300px;
  }
  .add-payment-method-page .inputBox {
    margin-bottom: 15px;
  }
  .add-payment-method-page .inputBox span {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }
  .add-payment-method-page .flex {
    display: flex;
    gap: 10px;
  }
  .add-payment-method-page .inputBox input {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  .add-payment-method-page .submit-btn {
    display: inline-block;
    padding: 10px 20px;
    background: #28a745;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    text-align: center;
  }
  .add-payment-method-page .submit-btn:hover {
    background: #218838;
  }
</style>

<div class="add-payment-method-page">
  <div class="container">
    <form action="{% url 'add_payment_method' %}" method="post">
        {% csrf_token %}
        <div class="form-row">
            <div class="form-column">
                <h3 class="title">Billing Address</h3>
                <div class="inputBox">
                    <span>Full Name :</span>
                    {{ form.full_name }}
                </div>
                <div class="inputBox">
                    <span>Email :</span>
                    {{ form.email }}
                </div>
                <div class="inputBox">
                    <span>Address :</span>
                    {{ form.address }}
                </div>
                <div class="inputBox">
                    <span>City :</span>
                    {{ form.city }}
                </div>
                <div class="flex">
                    <div class="inputBox">
                        <span>State :</span>
                        {{ form.state }}
                    </div>
                    <div class="inputBox">
                        <span>Zip Code :</span>
                        {{ form.zip_code }}
                    </div>
                </div>
            </div>
            <div class="form-column">
                <h3 class="title">Payment</h3>
                <div class="inputBox">
                    <span>Accepted Cards :</span>
                    <img src="{% static 'images/card_img.png' %}" alt="Accepted Cards">
                </div>
                <div class="inputBox">
                    <span>Name On Card :</span>
                    {{ form.name_on_card }}
                </div>
                <div class="inputBox">
                    <span>Debit/Credit Card Number :</span>
                    {{ form.card_number }}
                </div>
                <div class="inputBox">
                    <span>Exp Month :</span>
                    {{ form.exp_month }}
                </div>
                <div class="flex">
                    <div class="inputBox">
                        <span>Exp Year :</span>
                        {{ form.exp_year }}
                    </div>
                    <div class="inputBox">
                        <span>CVV :</span>
                        {{ form.cvv }}
                    </div>
                </div>
                <div class="inputBox">
                    <span>Total Amount :</span>
                    <p>${{ total_amount }}</p> <!-- Display the total amount here -->
                </div>
            </div>
        </div>
        <button type="submit" class="submit-btn">Proceed To Checkout</button>
    </form>
  </div>
</div>
{% endblock %}
